#Program for generating the Crypto Quote

#1. Class for representing a single QUOTE
# id, quote, author, submitted_by
# _repr__ and __str__
import random
import os

class Quote:
    
    def __init__(self, id, quote, author, submitted_by):
        self.id = id
        self.quote = quote
        self.author = author
        self.submitted_by = submitted_by

    def __repr__(self):
        return 'Quote(id=%s, quote=%s, author=%s, submitted_by=%s)' % (self.id, self.quote, self.author, self.submitted_by)
    
    def __str__(self):
        return 'Quote(id=%s, quote=%s, author=%s, submitted_by=%s)' % (self.id, self.quote, self.author, self.submitted_by)


#2. Class for representing all the quotes (quotes collection).
# This class represents a collection of quotes
# _repr__ and __str__
class QuotesList:

    def __init__(self):
        self.quotes_list = []
        
    def __str__(self):
        return 'QuotesList(quotes_list=%s)' % (self.quotes_list)

    def __repr__(self):
        return 'QuotesList(quotes_list=%s)' % (self.quotes_list)

    def add(self, quote):
        self.quotes_list.append(quote)


# Method for creating the  Quote object
def process_file(file_name):

    quotes_list = QuotesList();
    file = open(file_name)

    for x in file.readlines():
        fields = x.split(',')
        quote = Quote(fields[0], fields[1], fields[2], fields[3])
        quotes_list.add(quote)
    
    file.close()
    return quotes_list

#Method to get a random quote from the quotes collection and printing it to a new html file
def random_line(fname):
    lines = open(fname).read().splitlines()
    myquote = random.choice(lines)
    return myquote

if os.path.exists("randomQuote.html"):
  os.remove("randomQuote.html")

html_txt = """<html>
<head>
<title>Page Title</title>
</head>
<body>"""
html_txt += "<p>" + random_line('quotes_in_excel.csv')
html_txt += "</p> </body></html>"

file1 = open('randomQuote.html','w')
file1.write(html_txt)
file1.close()

#Method to return quotes containing all the bad words
#We are going to hard-code the bad words in a list
def getQuotesContainingBadWords()
    pass

        
# Program execution
quotes_list = process_file("quotes_in_excel.csv")
print(quotes_list)

random_quote = random_line('quotes_in_excel.csv')
print(random_quote)

    
